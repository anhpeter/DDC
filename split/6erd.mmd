---
title: SAP S/4HANA Master Entities (S/4HANA Compliant)
config:
  layout: elk
---
erDiagram
    direction lr
%% SAP S/4HANA ERD - Phân chia theo nhóm
%% 1. Nhóm Cấu trúc tổ chức (Organizational Structure)
%% mermaiderDiagram
%%     direction lr
    
    %% Cấu trúc tổ chức cơ bản
    OperatingConcern ||--|| ControllingArea : "controllingArea"
    ControllingArea ||--|{ CompanyCode : "companyCode"
    CompanyCode ||--|{ Plant : "plant"
    Plant ||--|{ StorageLocation : "storageLocation"
    Plant ||--|{ ShippingPoint : "shippingPoint"
    
    %% Tổ chức bán hàng
    CompanyCode ||--|| SalesOrg: "salesOrg" 
    SalesOrg ||--|{ SalesArea: "salesArea"
    DistributionChannel ||--|{ SalesArea: "channel"
    Division ||--|{ SalesArea: "division"
    
    %% Tổ chức mua hàng
    CompanyCode ||--|{ BRG_CompanyCodePurchasingOrg: "companyCode"
    BRG_CompanyCodePurchasingOrg ||--|{ PurchasingOrg: "purchasingOrg"
    
    %% %% Phân đoạn
    %% Segment ||--|{ ProfitCenter: "segment"
%% 2. Nhóm Kế Toán - Tài chính (Finance)
%% mermaiderDiagram
%%     direction lr
    
%%     %% Cấu hình FI cơ bản
%%     Currency ||--|{ CompanyCode : "localCurrency"
%%     Currency ||--|{ BridgeCurrencyExchangeRateType : "fromCurrency"
%%     Currency ||--|{ ExchangeRateType : "fromCurrency"
%%     FiscalYearVariant ||--|{ CompanyCode : "fiscalVariant"
%%     PostingPeriodVariant ||--|{ CompanyCode : "periodVariant"
%%     HouseBank ||--|{ CompanyCode : "houseBank"
%%     HouseBank ||--|{ BankKey : "bankKey"
    
%%     %% Kế toán
%%     COA ||--|{ GlAccount : "chartOfAccounts"
%%     GlAccountGroup ||--|{ GlAccount : "glAccountGroup"
%%     CompanyCode ||--|{ BRG_CompanyCodeGlAccount: "companyCode"
%%     BRG_CompanyCodeGlAccount ||--|{ GlAccount: "glAccount"
    
%%     %% Controlling
%%     CompanyCode ||--|{ CostCenter: "companyCode"
%%     CostCenterGroup ||--|{ CostCenter: "costCenterGroup"
%%     ProfitCenter ||--|{ CostCenter: "profitCenter"
%%     CompanyCode ||--|{ InternalOrder: "companyCode"
%%     ControllingArea ||--|{ InternalOrder: "controllingArea"
%%     CostCenter |o--|{ InternalOrder: "defaultCostCenter"
    
%%     %% Thuế và thanh toán
%%     Country ||--|{ TaxCode: "country"
%%     Country ||--|{ WithholdingTaxType: "country"
%%     TaxCode ||--|{ WithholdingTaxCode: "taxCode"
%%     WithholdingTaxType ||--|{ WithholdingTaxCode: "withholdingTaxType"
    
%%     %% Định giá
%%     Plant }o--|| ValuationArea: "valuationPlant"
%%     CompanyCode |o--|| ValuationArea: "valuationCompanyCode"
%%     MaterialType ||--|{ ValuationClass: "materialType"
%%     GlAccount ||--|{ BRG_GlAccountValuationClass: "glAccount"
%%     BRG_GlAccountValuationClass }|--|| ValuationClass: "valuationClass"
%%     MaterialType ||--|{ BRG_MaterialTypeValuationClass: "materialType"
%%     BRG_MaterialTypeValuationClass }|--|| ValuationClass: "valuationClass"
    
%%     %% SKF
%%     CostCenter ||--|{ BRG_CostCenterSKF: "costCenter"
%%     BRG_CostCenterSKF }|--|| SKF: "skf"
%%     InternalOrder ||--|{ BRG_InternalOrderSKF: "internalOrder"
%%     BRG_InternalOrderSKF }|--|| SKF: "skf"
%%     SKF }|--|| UOM: "skfUnit"
%% 3. Nhóm Vật tư (Material Management)
%% mermaiderDiagram
%%     direction lr
    
%%     %% Material Master cơ bản
%%     MaterialType ||--|{ Material : "materialType"
%%     MaterialGroup ||--|{ Material: "materialGroup"
%%     Material }|--|| UOM: "baseUnit"
%%     Material }|--|| UOM: "weightUnit"
%%     Material }|--|| UOM: "volumeUnit"
%%     Material ||--|{ BRG_MaterialAlternativeUnit : "material"
%%     BRG_MaterialAlternativeUnit }|--|| UOM: "alternativeUnit"
%%     Material ||--|{ MaterialText : "material"
    
%%     %% Material Plant
%%     Plant ||--|{ MaterialPlant: "plant"
%%     MaterialPlant }|--|| Material: "material"
%%     Plant ||--|{ MRPController : "plant"  
%%     PurchasingGroup ||--|{ MaterialPlant: "purchasingGroup"
    
%%     %% Material Storage
%%     StorageLocation ||--|{ BRG_MaterialStorageLocation: "storageLocation"
%%     Plant ||--|{ BRG_MaterialStorageLocation: "plant"
%%     BRG_MaterialStorageLocation }|--|| Material: "material"
    
%%     %% Material Sales
%%     SalesArea ||--|{ BRG_MaterialSalesArea: "salesArea"
%%     BRG_MaterialSalesArea }|--|| Material: "material"
%%     AccountAssignmentGroup ||--|{ BRG_MaterialSalesArea: "materialAAG"
    
%%     %% Material Valuation
%%     Material ||--|{ MaterialValuation: "material"
%%     MaterialValuation }|--|| ValuationArea: "valuationArea"
    
%%     %% Tax Configuration
%%     TaxCategory ||--|{ BRG_MaterialTax: "taxCategory"
%%     TaxClassification ||--|{ BRG_MaterialTax: "taxClassification"
%%     BRG_MaterialTax ||--|{ BRG_MaterialSalesArea: "materialSalesArea"
    
%%     %% Material Classification & Batch
%%     ClassificationClass ||--|{ Characteristic: "classificationClass"
%%     Material ||--|{ BRG_MaterialBatch: "materialBatch"
%%     Plant ||--|{ BRG_MaterialBatch: "plant"
%%     BRG_MaterialBatch ||--|| ClassificationClass: "batchClass"
%%     BRG_MaterialBatch ||--|{ BRG_BatchCharacteristicValue: "batchValue"
%%     Characteristic ||--|{ BRG_BatchCharacteristicValue: "characteristic"
    
%%     %% Purchasing Info Record
%%     PurchasingOrg ||--|{ PurchasingInfoRecord: "purchasingOrg"
%%     PurchasingGroup ||--|{ PurchasingInfoRecord: "purchasingGroup"
%%     Material ||--|{ PurchasingInfoRecord: "material"
%%     Plant |o--|{ PurchasingInfoRecord: "plant"
%%     PurchasingInfoRecord }|--|| UOM : "priceUnit"
%%     PurchasingInfoRecord }|--|| UOM : "orderUnit"
    
%%     %% Source List & Quota
%%     Material ||--|{ SourceList : "material"
%%     Plant ||--|{ SourceList : "plant"
%%     SourceList ||--|{ QuotaArrangement : "sourceList"
%% 4. Nhóm Đối tác kinh doanh (Business Partner)
%% mermaiderDiagram
%%     direction lr
    
%%     %% Business Partner cơ bản
%%     BusinessPartner ||--|| Customer: "customer"
%%     BusinessPartner ||--|| Vendor: "vendor"
%%     BusinessPartner ||--|| Employee: "employee"
%%     BusinessPartnerRole ||--|{ BusinessPartner : "businessPartner"
%%     BusinessPartnerCategory ||--|{ BusinessPartner : "businessPartner"
%%     BusinessPartnerGroup ||--|{ BusinessPartner : "businessPartner"
    
%%     %% Customer
%%     CompanyCode ||--|{ BRG_CompanyCodeCustomer: "companyCode"
%%     BRG_CompanyCodeCustomer ||--|{ Customer: "customer"
%%     Customer ||--|{ BRG_CustomerSalesArea: "customer"
%%     BRG_CustomerSalesArea }|--|| SalesArea: "salesArea"
%%     PartnerFunction ||--|{ Customer : "customer"
%%     CustomerHierarchy ||--|{ Customer : "customer"
%%     AccountAssignmentGroup ||--|{ BRG_CustomerSalesArea: "customerAAG"
%%     TaxCode ||--|{ BRG_CustomerSalesArea: "taxCode"
%%     PaymentTerms ||--|{ BRG_CustomerSalesArea: "paymentTerms"
%%     PaymentMethods ||--|{ BRG_CustomerSalesArea: "paymentMethods"
    
%%     %% Vendor
%%     Vendor ||--|{ VendorPurchasingOrg: "vendor"
%%     VendorPurchasingOrg ||--|{ PurchasingOrg: "purchasingOrg"
%%     CompanyCode ||--|{ BRG_CompanyCodeVendor: "companyCode"
%%     BRG_CompanyCodeVendor ||--|{ Vendor: "vendor"
%%     PartnerFunction ||--|{ Vendor : "vendor"
%%     Vendor ||--|{ PurchasingInfoRecord: "vendor"
%%     Vendor ||--|{ SourceList : "vendor"
%%     WithholdingTaxType ||--|{ BRG_CompanyCodeVendor: "withholdingTaxType"
%%     WithholdingTaxCode ||--|{ BRG_CompanyCodeVendor: "withholdingTaxCode"
%%     PaymentTerms ||--|{ BRG_CompanyCodeVendor: "paymentTerms"
%%     PaymentMethods ||--|{ BRG_CompanyCodeVendor: "paymentMethods"
    
%%     %% Employee
%%     CostCenter ||--|{ BRG_CostCenterEmployee: "costCenter"
%%     BRG_CostCenterEmployee }|--|| Employee: "employee"
    
%%     %% Bank Details
%%     Customer ||--|{ BRG_CustomerAccountBank: "customer"
%%     BRG_CustomerAccountBank ||--|| AccountBank: "accountBank"
%%     AccountBank ||--|| BankKey: "bankKey"
    
%%     %% Account Assignment Group
%%     BRG_AccountAssignmentGroupGlAccount }|--|| AccountAssignmentGroup: "materialAAG"
%%     BRG_AccountAssignmentGroupGlAccount }|--|| AccountAssignmentGroup: "customerAAG"
%%     GlAccount ||--|{ BRG_AccountAssignmentGroupGlAccount: "glAccount"
%% 5. Nhóm Sản xuất (Production)
%% mermaiderDiagram
%%     direction lr
    
%%     %% Production Planning
%%     ProductionScheduler ||--|{ Plant : "plant"
%%     FactoryCalendar ||--|{ Plant : "factoryCalendar"
    
%%     %% Work Center & Activity
%%     CostCenter ||--|{ BRG_CostCenterWorkCenter: "costCenter"
%%     BRG_CostCenterWorkCenter }|--|| WorkCenter: "workCenter"
%%     CostCenter ||--|{ ActivityType: "costCenter"
%%     WorkCenter ||--|{ ActivityType: "workCenter"
%%     ActivityType }|--|| UOM : "activityUnit"
    
%%     %% BOM & Routing
%%     Material ||--|{ ProductionVersion: "material"
%%     ProductionVersion ||--|| Routing: "routing"
%%     ProductionVersion ||--|| BOM: "bom"
%%     ProductionVersion ||--|{ ProductionScheduler : "productionScheduler"
%%     BOM ||--|{ BOMItems: "bom"
%%     Material ||--|{ BOMItems : "componentMaterial"
%%     BOMItems }|--|| UOM: "componentUnit"
%%     Routing ||--|{ WorkCenter : "workCenter"
%% 6. Nhóm Dự án (Project System)
%% mermaiderDiagram
%%     direction lr
    
%%     %% Project System
%%     ProjectType ||--|{ ProjectDefinition : "projectType"
%%     ControllingArea ||--|{ ProjectDefinition: "controllingArea"
%%     CompanyCode ||--|{ ProjectDefinition: "companyCode"
%%     ProjectDefinition ||--|{ WBS: "projectDefinition"
%%     WBS ||--|| WBS: "parentWBS"
%%     CostCenter |o--|{ WBS: "defaultCostCenter"
    
%%     %% WBS SKF
%%     WBS ||--|{ BRG_WBSSKF: "wbs"
%%     BRG_WBSSKF }|--|| SKF: "skf"
%% Ghi chú về phân chia

%% Cấu trúc tổ chức: Bao gồm các entity định nghĩa cơ cấu tổ chức của công ty
%% Tài chính: Tập trung vào kế toán, controlling, thuế, thanh toán và định giá
%% Vật tư: Quản lý thông tin vật tư từ master data đến purchasing
%% Đối tác kinh doanh: Quản lý khách hàng, nhà cung cấp và nhân viên
%% Sản xuất: Liên quan đến planning, BOM, routing và work center
%% Dự án: Hệ thống quản lý dự án và WBS

%% Một số entity có thể xuất hiện trong nhiều nhóm do tính chất liên kết chéo trong SAP S/4HANA.