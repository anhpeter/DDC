---
title: SAP S/4HANA Master Entities (S/4HANA Compliant)
config:
  layout: elk
---
erDiagram
    direction lr

    %% ===== ORGANIZATIONAL STRUCTURE =====
    OperatingConcern ||--|| ControllingArea : "controllingArea"
    ControllingArea ||--|{ CompanyCode : "companyCode"
    CompanyCode ||--|{ Plant : "plant"
    Plant ||--|{ StorageLocation : "storageLocation"
    Plant ||--|{ ShippingPoint : "shippingPoint"

    %% ===== FI CONFIGURATION =====
    Currency ||--|{ CompanyCode : "localCurrency"
    Currency ||--|{ BridgeCurrencyExchangeRateType : "fromCurrency"
    Currency ||--|{ ExchangeRateType : "fromCurrency"
    FiscalYearVariant ||--|{ CompanyCode : "fiscalVariant"
    PostingPeriodVariant ||--|{ CompanyCode : "periodVariant"
    HouseBank ||--|{ CompanyCode : "houseBank"
    HouseBank ||--|{ BankKey : "bankKey"

    %% ===== SALES ORGANIZATION =====
    CompanyCode ||--|| SalesOrg: "salesOrg" 
    SalesOrg ||--|{ SalesArea: "salesArea"
    DistributionChannel ||--|{ SalesArea: "channel"
    Division ||--|{ SalesArea: "division"

    %% ===== MATERIAL MASTER =====
    MaterialType ||--|{ Material : "materialType"
    MaterialGroup ||--|{ Material: "materialGroup"
    Material }|--|| UOM: "baseUnit"
    Material }|--|| UOM: "weightUnit"
    Material }|--|| UOM: "volumeUnit"
    Material ||--|{ BRG_MaterialAlternativeUnit : "material"
    BRG_MaterialAlternativeUnit }|--|| UOM: "alternativeUnit"

    %% ===== MATERIAL PLANT =====
    Plant ||--|{ MaterialPlantAssignment: "plant"
    MaterialPlantAssignment }|--|| Material: "material"
    Plant ||--|{ MRPController : "plant"  

    %% MaterialPlantPurchasingData ||--|| MaterialPlantAssignment: "materialPlant"
    %% MaterialPlantMRPData ||--|| MaterialPlantAssignment: "materialPlant"
    %% MaterialPlantSlocData ||--|| MaterialPlantAssignment: "materialPlant"
    %% StorageLocation |o--o{ MaterialPlantSlocData: "storageLocation"

    MaterialPlantAssignment ||--o| MaterialPlantPurchasingData : "materialPlant"
    MaterialPlantAssignment ||--o| MaterialPlantMRPData: "materialPlant"
    MaterialPlantAssignment ||--o| MaterialPlantSlocData: "materialPlant"
    MaterialPlantAssignment ||--o| MaterialAccountingData: "materialPlant"
    ValuationClass ||--|{ MaterialAccountingData: "valuationClass"
    MaterialPlantSlocData }o--o{  StorageLocation: "storageLocation"
    StorageLocation }|--|| UOM: "unitOfIssue"

    %% ===== MATERIAL STORAGE =====
    StorageLocation ||--|{ BRG_MaterialStorageLocation: "storageLocation"
    Plant ||--|{ BRG_MaterialStorageLocation: "plant"
    BRG_MaterialStorageLocation }|--|| Material: "material"

    %% ===== MATERIAL SALES =====
    SalesArea ||--|{ MaterialSalesData: "salesArea"
    MaterialSalesData }|--|| Material: "material"
    MaterialSalesData }|--|| UOM: "salesUnit"

    %% ===== CUSTOMER MATERIAL INFO =====
    CustomerHierarchy ||--|{ Customer : "customer"

    %% ===== TAX CONFIGURATION =====
    TaxCategory ||--|{ BRG_MaterialTax: "taxCategory"
    TaxClassification ||--|{ BRG_MaterialTax: "taxClassification"
    BRG_MaterialTax ||--|{ MaterialSalesData: "materialSalesArea"
    AccountAssignmentGroup ||--|{ MaterialSalesData: "materialAAG"
    AccountAssignmentGroup ||--|{ BRG_CustomerSalesArea: "customerAAG"
    BRG_AccountAssignmentGroupGlAccount }|--|| AccountAssignmentGroup: "materialAAG"
    BRG_AccountAssignmentGroupGlAccount }|--|| AccountAssignmentGroup: "customerAAG"
    GlAccount ||--|{ BRG_AccountAssignmentGroupGlAccount: "glAccount"

    %% ===== MATERIAL CLASSIFICATION =====
    ClassificationClass ||--|{ Characteristic: "classificationClass"
    Material ||--o{ BRG_MaterialBatch: "materialBatch"
    Material ||--o{ BRG_MaterialClassification: "materialBatch"
    BRG_MaterialClassification }|--|| ClassificationClass: "classification"
    BRG_MaterialClassification ||--|{ BRG_MaterialCharacteristicValue: "materialClassValue"
    BRG_MaterialCharacteristicValue }|--|| Characteristic: "characteristic"
    Plant ||--|{ BRG_MaterialBatch: "plant"
    BRG_MaterialBatch ||--|| ClassificationClass: "batchClass"
    BRG_MaterialBatch ||--|{ BRG_BatchCharacteristicValue: "batchValue"
    Characteristic ||--|{ BRG_BatchCharacteristicValue: "characteristic"

    %% ===== PURCHASING =====
    CompanyCode ||--|{ BRG_CompanyCodePurchasingOrg: "companyCode"
    BRG_CompanyCodePurchasingOrg ||--|{ PurchasingOrg: "purchasingOrg"

    %% ===== PURCHASING INFO RECORD =====
    PurchasingOrg ||--|{ PurchasingInfoRecord: "purchasingOrg"
    PurchasingGroup ||--|{ PurchasingInfoRecord: "purchasingGroup"
    Material ||--|{ PurchasingInfoRecord: "material"
    Vendor ||--|{ PurchasingInfoRecord: "vendor"
    Plant |o--|{ PurchasingInfoRecord: "plant"
    PurchasingInfoRecord }|--|| UOM : "priceUnit"
    PurchasingInfoRecord }|--|| UOM : "orderUnit"

    %% ===== SOURCE LIST & QUOTA =====
    Material ||--|{ SourceList : "material"
    Plant ||--|{ SourceList : "plant"
    Vendor ||--|{ SourceList : "vendor"
    SourceList ||--|{ QuotaArrangement : "sourceList"

    %% ===== BUSINESS PARTNER ENHANCED =====
    BusinessPartner ||--|| Customer: "customer"
    BusinessPartner ||--|| Vendor: "vendor"
    BusinessPartner ||--|| Employee: "employee"
    BusinessPartnerRole ||--|{ BusinessPartner : "businessPartner"
    BusinessPartnerCategory ||--|{ BusinessPartner : "businessPartner"
    BusinessPartnerGroup ||--|{ BusinessPartner : "businessPartner"

    %% ===== VENDOR ENHANCED =====
    Vendor ||--|{ VendorPurchasingOrg: "vendor"
    VendorPurchasingOrg ||--|{ PurchasingOrg: "purchasingOrg"
    CompanyCode ||--|{ BRG_CompanyCodeVendor: "companyCode"
    BRG_CompanyCodeVendor ||--|{ Vendor: "vendor"
    PartnerFunction ||--|{ Vendor : "vendor"

    %% ===== CUSTOMER ENHANCED =====
    CompanyCode ||--|{ BRG_CompanyCodeCustomer: "companyCode"
    BRG_CompanyCodeCustomer ||--|{ Customer: "customer"
    Customer ||--|{ BRG_CustomerSalesArea: "customer"
    BRG_CustomerSalesArea }|--|| SalesArea: "salesArea"
    PartnerFunction ||--|{ Customer : "customer"

    %% ===== BANK DETAILS =====
    Customer ||--|{ BRG_CustomerAccountBank: "customer"
    BRG_CustomerAccountBank ||--|| AccountBank: "accountBank"
    AccountBank ||--|| BankKey: "bankKey"

    %% ===== CONTROLLING ENHANCED =====
    CompanyCode ||--|{ CostCenter: "companyCode"
    CostCenterGroup ||--|{ CostCenter: "costCenterGroup"
    Segment ||--|{ ProfitCenter: "segment"
    ProfitCenter ||--|{ CostCenter: "profitCenter"
    CostCenter ||--|{ BRG_CostCenterEmployee: "costCenter"
    BRG_CostCenterEmployee }|--|| Employee: "employee"

    %% ===== ACTIVITY TYPE =====
    CostCenter ||--|{ BRG_CostCenterWorkCenter: "costCenter"
    BRG_CostCenterWorkCenter }|--|| WorkCenter: "workCenter"
    CostCenter ||--|{ ActivityType: "costCenter"
    WorkCenter ||--|{ ActivityType: "workCenter"
    ActivityType }|--|| UOM : "activityUnit"

    %% ===== ACCOUNTING (S/4HANA SIMPLIFIED) =====
    COA ||--|{ GlAccount : "chartOfAccounts"
    GlAccountGroup ||--|{ GlAccount : "glAccountGroup"
    CompanyCode ||--|{ BRG_CompanyCodeGlAccount: "companyCode"
    BRG_CompanyCodeGlAccount ||--|{ GlAccount: "glAccount"
    CompanyCode ||--|{ InternalOrder: "companyCode"
    ControllingArea ||--|{ InternalOrder: "controllingArea"
    CostCenter |o--|{ InternalOrder: "defaultCostCenter"

    %% ===== PRODUCTION ENHANCED =====
    ProductionScheduler ||--|{ Plant : "plant"
    FactoryCalendar ||--|{ Plant : "factoryCalendar"

    %% ===== BOM & ROUTING =====
    Routing ||--|{ WorkCenter : "workCenter"
    Material ||--|{ ProductionVersion: "material"
    ProductionVersion ||--|| Routing: "routing"
    ProductionVersion ||--|| BOM: "bom"
    ProductionVersion ||--|{ ProductionScheduler : "productionScheduler"
    BOM ||--|{ BOMItems: "bom"
    Material ||--|{ BOMItems : "componentMaterial"
    BOMItems }|--|| UOM: "componentUnit"

    %% ===== PROJECT SYSTEM ENHANCED =====
    ProjectType ||--|{ ProjectDefinition : "projectType"
    ControllingArea ||--|{ ProjectDefinition: "controllingArea"
    CompanyCode ||--|{ ProjectDefinition: "companyCode"
    ProjectDefinition ||--|{ WBS: "projectDefinition"
    WBS ||--|| WBS: "parentWBS"
    CostCenter |o--|{ WBS: "defaultCostCenter"

    %% ===== VALUATION =====
    MaterialType ||--|{ ValuationClass: "materialType"
    GlAccount ||--|{ BRG_GlAccountValuationClass: "glAccount"
    BRG_GlAccountValuationClass }|--|| ValuationClass: "valuationClass"
    MaterialType ||--|{ BRG_MaterialTypeValuationClass: "materialType"
    BRG_MaterialTypeValuationClass }|--|| ValuationClass: "valuationClass"

    %% ===== TAX & PAYMENT ENHANCED =====
    Country ||--|{ TaxCode: "country"
    Country ||--|{ WithholdingTaxType: "country"
    TaxCode ||--|{ WithholdingTaxCode: "taxCode"
    WithholdingTaxType ||--|{ WithholdingTaxCode: "withholdingTaxType"
    WithholdingTaxType ||--|{ BRG_CompanyCodeVendor: "withholdingTaxType"
    WithholdingTaxCode ||--|{ BRG_CompanyCodeVendor: "withholdingTaxCode"
    PaymentTerms ||--|{ BRG_CompanyCodeVendor: "paymentTerms"
    PaymentMethods ||--|{ BRG_CompanyCodeVendor: "paymentMethods"
    TaxCode ||--|{ BRG_CustomerSalesArea: "taxCode"
    PaymentTerms ||--|{ BRG_CustomerSalesArea: "paymentTerms"
    PaymentMethods ||--|{ BRG_CustomerSalesArea: "paymentMethods"

    %% ===== SKF ENHANCED =====
    CostCenter ||--|{ BRG_CostCenterSKF: "costCenter"
    BRG_CostCenterSKF }|--|| SKF: "skf"
    InternalOrder ||--|{ BRG_InternalOrderSKF: "internalOrder"
    BRG_InternalOrderSKF }|--|| SKF: "skf"
    WBS ||--|{ BRG_WBSSKF: "wbs"
    BRG_WBSSKF }|--|| SKF: "skf"
    SKF }|--|| UOM: "skfUnit"

    %% ===== TEXT MANAGEMENT =====
    Material ||--|{ MaterialText : "material"