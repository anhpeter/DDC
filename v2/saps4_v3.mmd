---
title: SAP S/4HANA Master Entities (S/4HANA Compliant)
config:
  layout: elk
---
erDiagram
    direction lr

    %% ===== ORGANIZATIONAL STRUCTURE =====
    OperatingConcern ||--|| ControllingArea : "controllingArea_XXX"
    ControllingArea ||--|{ CompanyCode : "companyCode_XXX"
    CompanyCode ||--|{ Plant : "plant_XXX"
    Plant ||--|{ StorageLocation : "storageLocation_XXX"

    %% ===== FI CONFIGURATION =====
    Currency ||--|{ CompanyCode : "localCurrency_XXX"
    Currency ||--|{ ExchangeRate : "fromCurrency_XXX"
    Currency ||--|{ ExchangeRate : "toCurrency_XXX"
    ExchangeRate }|--|| ExchangeRateType : "exchangeRate_XXX"
    FiscalYearVariant ||--|{ CompanyCode : "fiscalVariant_XXX"
    PostingPeriodVariant ||--|{ CompanyCode : "periodVariant_XXX"
    HouseBank }|--|| CompanyCode : "houseBank_XXX"
    HouseBank }|--|| BankKey : "bankKey_XXX"

    %% ===== SALES ORGANIZATION =====
    CompanyCode ||--|| SalesOrg: "salesOrg_XXX" 
    SalesOrg ||--|{ SalesArea: "salesArea_XXX"
    DistributionChannel ||--|{ SalesArea: "channel_XXX"
    Division ||--|{ SalesArea: "division_XXX"

    %% ===== MATERIAL MASTER =====
    MaterialType ||--|{ Material : "materialType_XXX"
    MaterialGroup ||--|{ Material: "materialGroup_XXX"
    Material }|--|| UOM: "baseUnit_XXX"
    Material }|--|| UOM: "weightUnit_XXX"
    Material }|--|| UOM: "volumeUnit_XXX"
    Material ||--|{ BRG_MaterialAlternativeUnit : "material_XXX"
    BRG_MaterialAlternativeUnit }|--|| UOM: "alternativeUnit_XXX"

    %% ===== MATERIAL PLANT =====
    Plant ||--|{ MaterialPlantAssignment: "plant_XXX"
    MaterialPlantAssignment }|--|| Material: "material_XXX"
    MaterialPlantMRPData }|--|| MRPController : "mrpController_XXX"  

    %% MaterialPlantPurchasingData ||--|| MaterialPlantAssignment: "materialPlant"
    %% MaterialPlantMRPData ||--|| MaterialPlantAssignment: "materialPlant"
    %% MaterialPlantSlocData ||--|| MaterialPlantAssignment: "materialPlant"
    %% StorageLocation |o--o{ MaterialPlantSlocData: "storageLocation"

    MaterialPlantPurchasingData }|--|| UOM: "orderUnit_XXX"
    MaterialPlantPurchasingData }|--|| PurchasingGroup: "purchasingGroup_XXX"
    MaterialPlantPurchasingData }|--|| PurchasingGroup: "group_XXX"
    MaterialPlantPurchasingData }|--|| Country: "country_XXX"

    MaterialPlantAssignment ||--o| MaterialPlantPurchasingData : "materialPlant_XXX"
    MaterialPlantAssignment ||--o| MaterialPlantMRPData: "materialPlant_XXX"
    MaterialPlantAssignment ||--o| MaterialPlantSlocData: "materialPlant"
    MaterialPlantAssignment ||--o| MaterialAccountingData: "materialPlant_XXX"
    MaterialPlantAssignment ||--o| MaterialPlantSlocData: "materialPlant_XXX"
    MaterialPlantSlocData }o--||  StorageLocation: "storageLocation_XXX"
    MaterialPlantSlocData }o--||  UOM: "issueUnit_XXX"
    ValuationClass ||--|{ MaterialAccountingData: "valuationClass_XXX"

    %% ===== MATERIAL SALES =====
    SalesArea ||--|{ MaterialSalesData: "salesArea_XXX"
    MaterialSalesData }|--|| Material: "material_XXX"
    MaterialSalesData }|--|| UOM: "salesUnit_XXX"

    %% ===== TAX CONFIGURATION =====
    TaxClassification ||--|| MaterialSalesData: "materialSalesArea_XXX"
    AccountAssignmentGroup ||--|{ MaterialSalesData: "materialAAG_XXX_XXX"
    AccountAssignmentGroup ||--|{ BRG_CustomerSalesArea: "customerAAG_XXX"
    BRG_AccountAssignmentGroupGlAccount }|--|| AccountAssignmentGroup: "materialAAG_XXX"
    BRG_AccountAssignmentGroupGlAccount }|--|| AccountAssignmentGroup: "customerAAG_XXX"
    GlAccount ||--|{ BRG_AccountAssignmentGroupGlAccount: "glAccount_XXX"

    %% ===== MATERIAL CLASSIFICATION =====
    ClassificationClass ||--|{ Characteristic: "classificationClass"
    Material ||--o{ BRG_MaterialBatch: "materialBatch"
    Material ||--o{ BRG_MaterialClassification: "materialBatch"
    BRG_MaterialClassification }|--|| ClassificationClass: "classification"
    Plant ||--|{ BRG_MaterialBatch: "plant"
    BRG_MaterialBatch ||--|| ClassificationClass: "batchClass"
    BRG_MaterialClassification ||--|{ BRG_BatchCharacteristicValue: "classificationValue"
    BRG_MaterialBatch ||--|{ BRG_BatchCharacteristicValue: "batchValue"
    Characteristic ||--|{ BRG_BatchCharacteristicValue: "characteristic"

    %% ===== PURCHASING =====
    CompanyCode ||--|{ BRG_CompanyCodePurchasingOrg: "companyCode"
    BRG_CompanyCodePurchasingOrg ||--|{ PurchasingOrg: "purchasingOrg"

    %% ===== PURCHASING INFO RECORD =====
    PurchasingOrg ||--|{ PurchasingInfoRecord: "purchasingOrg"
    PurchasingGroup ||--|{ PurchasingInfoRecord: "purchasingGroup"
    Material ||--|{ PurchasingInfoRecord: "material"
    Vendor ||--|{ PurchasingInfoRecord: "vendor"
    Plant |o--|{ PurchasingInfoRecord: "plant"
    PurchasingInfoRecord }|--|| UOM : "priceUnit"
    PurchasingInfoRecord }|--|| UOM : "orderUnit"

    %% ===== SOURCE LIST & QUOTA =====
    Material ||--|{ SourceList : "material"
    Plant ||--|{ SourceList : "plant"
    Vendor ||--|{ SourceList : "vendor"
    SourceList ||--|{ QuotaArrangement : "sourceList"

    %% ===== BUSINESS PARTNER ENHANCED =====
    BusinessPartner ||--|| Customer: "customer"
    BusinessPartner ||--|| Vendor: "vendor"
    BusinessPartner ||--|| Employee: "employee"
    BusinessPartnerRole ||--|{ BusinessPartner : "businessPartner"
    BusinessPartnerCategory ||--|{ BusinessPartner : "businessPartner"
    BusinessPartnerGroup ||--|{ BusinessPartner : "businessPartner"

    %% ===== VENDOR ENHANCED =====
    Vendor ||--|{ VendorPurchasingOrg: "vendor"
    VendorPurchasingOrg ||--|{ PurchasingOrg: "purchasingOrg"
    CompanyCode ||--|{ BRG_CompanyCodeVendor: "companyCode"
    BRG_CompanyCodeVendor ||--|{ Vendor: "vendor"
    PartnerFunction ||--|{ Vendor : "vendor"

    %% ===== CUSTOMER ENHANCED =====
    CompanyCode ||--|{ BRG_CompanyCodeCustomer: "companyCode"
    BRG_CompanyCodeCustomer ||--|{ Customer: "customer"
    Customer ||--|{ BRG_CustomerSalesArea: "customer"
    BRG_CustomerSalesArea }|--|| SalesArea: "salesArea"
    PartnerFunction ||--|{ Customer : "customer"

    %% ===== BANK DETAILS =====
    Customer ||--|{ BRG_CustomerAccountBank: "customer"
    BRG_CustomerAccountBank ||--|| AccountBank: "accountBank"
    AccountBank ||--|| BankKey: "bankKey"

    %% ===== CONTROLLING ENHANCED =====
    CompanyCode ||--|{ CostCenter: "companyCode"
    CostCenterGroup ||--|{ CostCenter: "costCenterGroup"
    ProfitCenter ||--|{ CostCenter: "profitCenter"
    CostCenter ||--|{ BRG_CostCenterEmployee: "costCenter"
    BRG_CostCenterEmployee }|--|| Employee: "employee"

    %% ===== ACTIVITY TYPE =====
    CostCenter ||--|{ BRG_CostCenterWorkCenter: "costCenter"
    BRG_CostCenterWorkCenter }|--|| WorkCenter: "workCenter"
    CostCenter ||--|{ ActivityType: "costCenter"
    WorkCenter ||--|{ ActivityType: "workCenter"
    ActivityType }|--|| UOM : "activityUnit"

    %% ===== ACCOUNTING (S/4HANA SIMPLIFIED) =====
    COA ||--|{ GlAccount : "chartOfAccounts"
    GlAccountGroup ||--|{ GlAccount : "glAccountGroup"
    CompanyCode ||--|{ BRG_CompanyCodeGlAccount: "companyCode"
    BRG_CompanyCodeGlAccount ||--|{ GlAccount: "glAccount"
    CompanyCode ||--|{ InternalOrder: "companyCode"
    ControllingArea ||--|{ InternalOrder: "controllingArea"
    CostCenter |o--|{ InternalOrder: "defaultCostCenter"

    %% ===== PRODUCTION ENHANCED =====
    ProductionScheduler ||--|{ Plant : "plant"
    FactoryCalendar ||--|{ Plant : "factoryCalendar"

    %% ===== BOM & ROUTING =====
    Routing ||--|{ WorkCenter : "workCenter"
    Material ||--|{ ProductionVersion: "material"
    ProductionVersion ||--|| Routing: "routing"
    ProductionVersion ||--|| BOM: "bom"
    ProductionVersion ||--|{ ProductionScheduler : "productionScheduler"
    BOM ||--|{ BOMItems: "bom"
    Material ||--|{ BOMItems : "componentMaterial"
    BOMItems }|--|| UOM: "componentUnit"

    %% ===== PROJECT SYSTEM ENHANCED =====
    ProjectType ||--|{ ProjectDefinition : "projectType"
    ControllingArea ||--|{ ProjectDefinition: "controllingArea"
    CompanyCode ||--|{ ProjectDefinition: "companyCode"
    ProjectDefinition ||--|{ WBS: "projectDefinition"
    WBS ||--|| WBS: "parentWBS"
    CostCenter |o--|{ WBS: "defaultCostCenter"

    %% ===== VALUATION =====
    MaterialType ||--|{ ValuationClass: "materialType"
    GlAccount ||--|{ BRG_GlAccountValuationClass: "glAccount"
    BRG_GlAccountValuationClass }|--|| ValuationClass: "valuationClass"
    MaterialType ||--|{ BRG_MaterialTypeValuationClass: "materialType"
    BRG_MaterialTypeValuationClass }|--|| ValuationClass: "valuationClass"

    %% ===== TAX & PAYMENT ENHANCED =====
    Country ||--|{ TaxCode: "country"
    Country ||--|{ WithholdingTaxType: "country"
    TaxCode ||--|{ WithholdingTaxCode: "taxCode"
    WithholdingTaxType ||--|{ WithholdingTaxCode: "withholdingTaxType"
    WithholdingTaxType ||--|{ BRG_CompanyCodeVendor: "withholdingTaxType"
    WithholdingTaxCode ||--|{ BRG_CompanyCodeVendor: "withholdingTaxCode"
    PaymentTerms ||--|{ BRG_CompanyCodeVendor: "paymentTerms"
    PaymentMethods ||--|{ BRG_CompanyCodeVendor: "paymentMethods"
    TaxCode ||--|{ BRG_CustomerSalesArea: "taxCode"
    PaymentTerms ||--|{ BRG_CustomerSalesArea: "paymentTerms"
    PaymentMethods ||--|{ BRG_CustomerSalesArea: "paymentMethods"

    %% ===== SKF ENHANCED =====
    CostCenter ||--|{ BRG_CostCenterSKF: "costCenter"
    BRG_CostCenterSKF }|--|| SKF: "skf"
    InternalOrder ||--|{ BRG_InternalOrderSKF: "internalOrder"
    BRG_InternalOrderSKF }|--|| SKF: "skf"
    WBS ||--|{ BRG_WBSSKF: "wbs"
    BRG_WBSSKF }|--|| SKF: "skf"
    SKF }|--|| UOM: "skfUnit"

    %% ===== TEXT MANAGEMENT =====
    Material ||--|{ MaterialText : "material"